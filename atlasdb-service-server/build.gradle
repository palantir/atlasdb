apply from: "../gradle/publish-jars.gradle"
apply from: "../gradle/shared.gradle"

apply plugin: 'application'
mainClassName = 'com.palantir.atlasdb.server.AtlasDbServiceServer'
applicationName = 'atlas-service-server'

dependencies {
    compile(project(':atlasdb-service')) {
        // dropwizard-core gives us a different version of these libs
        exclude group: 'com.codahale.metrics'
    }
    compile(project(':lock-impl')) {
        // dropwizard-core gives us a different version of these libs
        exclude group: 'com.codahale.metrics'
    }
    compile(project(':leader-election-impl')) {
        // dropwizard-core gives us a different version of these libs
        exclude group: 'com.codahale.metrics'
    }
    compile(project(':atlasdb-config')) {
        // dropwizard-core gives us a different version of these libs
        exclude group: 'com.codahale.metrics'
    }
    runtime project(':atlasdb-rocksdb')
    runtime project(':atlasdb-cassandra')

    compile group: 'io.dropwizard', name: 'dropwizard-core'

    testCompile group: 'io.dropwizard', name: 'dropwizard-testing'
}
